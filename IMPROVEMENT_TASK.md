# Техническое Задание по Улучшению Образовательной Платформы

Этот документ описывает оставшиеся задачи для доработки и улучшения платформы на основе предоставленной документации в папке `/Task`.

## Часть 1: Реализация Панели Администратора (Frontend)

Цель: Создать полнофункциональный интерфейс для управления платформой.

1.  **Создание структуры:**
    -   Инициализировать директории: `frontend/src/app/admin`, `frontend/src/components/admin`, `frontend/src/components/analytics`.
2.  **Основной макет админки:**
    -   Реализовать `AdminLayout` в `/admin/layout.tsx`, используя компоненты `AdminSidebar` и `AdminHeader` из `Task/admin-dashboard-architecture.md`.
3.  **Страница "Дашборд":**
    -   Создать главную страницу админки (`/admin/page.tsx`).
    -   Интегрировать `StatsCards` и компоненты графиков (`LearningProgressChart`, `PopularCoursesChart`, `UserActivityChart`).
4.  **Управление Пользователями:**
    -   Создать страницу `/admin/users`.
    -   Реализовать компонент `UsersTable` с функциями фильтрации, поиска и пагинации.
    -   Добавить возможность редактирования ролей пользователей.
5.  **Управление Курсами:**
    -   Создать страницу `/admin/courses`.
    -   Реализовать `CoursesTable` для CRUD-операций с курсами, темами и уроками.
6.  **Интеграция с API:**
    -   Подключить все компоненты админ-панели к соответствующим эндпоинтам бэкенда.

## Часть 2: Доработка UI/UX и Функционала (Frontend)

Цель: Завершить и отполировать пользовательский интерфейс.

1.  **Страница Деталей Курса:**
    -   Реализовать и интегрировать компонент `Timeline` на страницу `subjects/[subjectId]`.
2.  **Страница Урока:**
    -   Внедрить плавающую панель прогресса `FloatingProgress`.
3.  **Интерфейс Тестов (Quiz):**
    -   Проверить и финализировать анимации и логику работы таймера и навигации по вопросам.
4.  **Личный кабинет (Dashboard):**
    -   Завершить реализацию всех виджетов (`LearningStatsCard`, `TimeSpentCard`, `RecommendationsSection` и др.).
    -   Интегрировать реальные данные из API вместо моковых.
5.  **Интеграция UI библиотек:**
    -   Провести ревизию и внедрить ключевые компоненты из рекомендованных библиотек (`@magicui`, `@aceternity`) для улучшения визуальной составляющей.

## Часть 3: Улучшения Бэкенда

Цель: Обеспечить полноту и надежность серверной логики.

1.  **Генерация Сертификатов:**
    -   Улучшить сервис `certificates.service.ts`: заменить транслитерацию на встраивание шрифта с поддержкой кириллицы для корректного отображения имен в PDF.
2.  **Тестирование:**
    -   Написать Unit и Integration тесты для критически важных сервисов: `RecommendationsService`, `AnalyticsService` и `CertificatesService`.

## Часть 4: Оптимизация Производительности

Цель: Обеспечить быструю и отзывчивую работу приложения.

1.  **Ленивая Загрузка (Lazy Loading):**
    -   Применить динамический импорт для тяжелых компонентов, особенно в админ-панели.
2.  **Оптимизация Изображений:**
    -   Проверить использование `next/image` во всем приложении для автоматической оптимизации.
3.  **Анализ Бандла:**
    -   Запланировать использование `@next/bundle-analyzer` для выявления и устранения "узких мест" в размере клиентского приложения.




Отлично! Сборка фронтенда снова завершилась успешно.

  Это означает, что CRUD для тем (Topics) с пагинацией полностью реализован.

  Следующие шаги:

   1. [ВЫПОЛНЕНО] Реализовать полный CRUD для пользователей в админ-панели.
   2. [ВЫПОЛНЕНО] Реализовать полный CRUD для курсов (Subjects) в админ-панели.
   3. [ВЫПОЛНЕНО] Реализовать пагинацию для таблицы пользователей.
   4. [ВЫПОЛНЕНО] Реализовать пагинацию для таблицы курсов.
   5. [ВЫПОЛНЕНО] Реализовать полный CRUD для тем (Topics) в админ-панели с пагинацией.  
   6. [ВЫПОЛНЕНО] Реализовать полный CRUD для уроков (Lessons) в админ-панели с пагинацией.
   7. [ВЫПОЛНЕНО] Страница Деталей Курса: Реализовать и интегрировать компонент Timeline на страницу subjects/[subjectId].
   8. [ВЫПОЛНЕНО] Страница Урока: Внедрить плавающую панель прогресса FloatingProgress.
   9. [ВЫПОЛНЕНО] Интерфейс Тестов (Quiz): Проверить и финализировать анимации и логику работы таймера и навигации по вопросам.
   10. [ВЫПОЛНЕНО] Личный кабинет (Dashboard): Завершить реализацию всех виджетов (LearningStatsCard, TimeSpentCard, RecommendationsSection и др.). Интегрировать реальные данные из API вместо моковых.
   11. [ВЫПОЛНЕНО] Интеграция UI библиотек: Провести ревизию и внедрить ключевые компоненты из рекомендованных библиотек (@magicui, @aceternity) для улучшения визуальной составляющей.
   12. [ТЕКУЩЕЕ] Ленивая Загрузка (Lazy Loading): Применить динамический импорт для тяжелых компонентов, особенно в админ-панели.

  Я начну с реализации полного CRUD для уроков (Lessons).

  План для CRUD уроков (Lessons):

   1. [ВЫПОЛНЕНО] Бэкенд: Убедиться, что CRUD для lessons реализован в lessons.controller.ts и lessons.service.ts.
       * create (Post)
       * findAll (Get)
       * findOne (Get)
       * update (Patch)
       * remove (Delete)
       * Судя по client.ts, эти методы уже существуют.
   2. [ВЫПОЛНЕНО] Бэкенд: Обновить lessons.service.ts и lessons.controller.ts, чтобы findAll принимал параметры skip и take (для пагинации), а также возвращал общее количество уроков для      расчета страниц.
   3. [ВЫПОЛНЕНО] Фронтенд: Перегенерировать API-клиент.
   4. [ВЫПОЛНЕНО] Фронтенд: Создать хуки для мутаций уроков.
       * useCreateLessonMutation, useUpdateLessonMutation, useDeleteLessonMutation в frontend/src/api/hooks/useLessonMutations.ts.
   5. [ВЫПОЛНЕНО] Фронтенд: Создать компонент LessonsTable в frontend/src/components/admin/lessons-table.tsx.
   6. [ВЫПОЛНЕНО] Фронтенд: Создать форму для урока.
       * Создать переиспользуемый компонент LessonForm для создания и редактирования уроков.
   7. [ВЫПОЛНЕНО] Фронтенд: Объединить все.
   8. [ВЫПОЛНЕНО] Фронтенд: Добавить страницу /admin/lessons в frontend/src/app/admin/lessons/page.tsx.

  Я начну с обновления бэкенда для поддержки пагинации уроков. Я прочитаю backend/src/api/lessons/lessons.service.ts.