# Анализ и план реализации Frontend для Образовательного Портала

## 1. Текущее состояние проекта

Проект `frontend` представляет собой клиент на Next.js с использованием App Router. Он спроектирован с четким разделением логики и представления.

**Что уже есть:**
- **Архитектура:** Проект имеет модульную структуру: `app` (маршруты), `components` (компоненты), `api` (слой для работы с API), `hooks` (кастомные хуки), и `lib` (утилиты).
- **Аутентификация:** Реализованы страницы входа и регистрации, защищенные маршруты с помощью `middleware`, и логика выхода.
- **Главная страница (Лендинг):** Создана статическая главная страница с разделами "Hero", "Популярные курсы", "Почему мы" и "FAQ".
- **Личный кабинет (Dashboard):** Реализована страница `dashboard`, которая объединяет в себе профиль пользователя, статистику, форму редактирования личных данных и настройки безопасности.
- **API-слой:** Настроена работа с API через `axios` и `react-query`. Реализованы хуки для получения данных профиля, обновления пароля и т.д.
- **Базовый UI-кит:** Используются UI-компоненты из `shadcn/ui` (`Button`, `Input`, `Card` и т.д.).

**Чего не хватает:**
- **Разделы курсов:** Отсутствуют страницы для отображения списка всех курсов, а также страницы для отдельных курсов и уроков.
- **Полный набор UI-компонентов:** Необходимо расширить UI-кит для более сложных элементов (модальные окна, таблицы, нотификации).
- **Глобальное состояние:** Не внедрен инструмент для глобального клиентского состояния (например, `Zustand`).
- **Тестирование:** Отсутствуют юнит- и e2e-тесты.

---

## 2. План реализации (Актуализированный)

### **Шаг 1: Аутентификация и базовый макет**
- [x] **Задача:** Создать страницы входа (`/auth/login`) и регистрации (`/auth/register`).
- [x] **Задача:** Реализовать `AuthWrapper` для обертки форм.
- [x] **Задача:** Настроить `middleware` для защиты роутов.
- [x] **Задача:** Создать `site-header` с условным отображением кнопок "Войти" / "Личный кабинет".
- [x] **Задача:** Реализовать логику входа, выхода и обновления токенов.

### **Шаг 2: Главная страница (Лендинг)**
- [x] **Задача:** Создать главную страницу (`/`).
- [x] **Задача:** Реализовать компоненты для лендинга: `HeroSection`, `FeaturedCourses`, `FeaturesSection`, `FAQSection`.
- [x] **Задача:** Создать футер (`SiteFooter`) и хэдер (`SiteHeader`) для главной страницы.

### **Шаг 3: Личный кабинет (Dashboard) и Профиль пользователя**
- [x] **Задача:** Создать страницу `app/(main)/dashboard/page.tsx`.
- [x] **Задача:** Реализовать двухколоночный макет с сайдбаром (`DashboardSidebar`) и основной областью контента.
- [x] **Задача:** В сайдбаре реализовать навигацию и условное отображение ссылки на админ-панель.
- [x] **Задача:** Реализовать хэдер для основной области контента (`MainContentHeader`).
- [x] **Задача:** Создать и интегрировать компоненты для дашборда:
    - `ProfileCard`: Отображение основной информации о пользователе.
    - `StatsGrid`: Карточки со статистикой.
    - `PersonalDataForm`: Форма для редактирования личных данных.
    - `SecuritySettings`: Форма для смены пароля и настроек безопасности.
- [x] **Задача:** Интегрировать API (`useGetProfileQuery`, `useUpdateProfileMutation`, `useUpdatePasswordMutation`) для получения и обновления данных.

### **Шаг 4: Страница курсов (Subjects)**
- [x] **Задача:** Создать страницу `app/(main)/subjects/page.tsx` для отображения всех доступных курсов.
- [x] **Задача:** Создать хук `useGetSubjectsQuery` для получения списка всех предметов с бэкенда.
- [x] **Задача:** Разработать компоненты `SubjectCard` и `SubjectList` для отображения курсов в виде сетки.
- [x] **Задача:** Настроить `middleware` или навигацию так, чтобы пользователи могли легко попасть на эту страницу.

### **Шаг 5: Страница просмотра курса, уроков и тестов (Quiz)**
- [x] **Задача:** Создать динамическую страницу `app/(main)/subjects/[subjectId]/page.tsx` для отображения содержимого конкретного курса (темы, уроки).
- [x] **Задача:** Создать динамическую страницу `app/(main)/lessons/[lessonId]/page.tsx` для просмотра отдельного урока.
- [x] **Задача:** Разработать компоненты для навигации по темам и урокам внутри курса.
- [x] **Задача:** Реализовать API-хуки для получения детальной информации о предмете, темах и уроках.
- [x] **Задача:** **Реализовать функционал тестов (Quizzes):**
    - [x] Создать страницу `app/(main)/lessons/[lessonId]/quiz/page.tsx` для прохождения теста.
    - [x] Разработать компоненты для отображения вопросов (`QuestionCard`) и вариантов ответов.
    - [x] Создать API-хуки для получения данных теста (`useGetQuizByLessonIdQuery`) и отправки результатов (`useSubmitQuizMutation`).
    - [x] Реализовать логику проверки ответов и отображения результатов.
- [x] **Задача:** **Добавить навигацию к тестам:** Встроить кнопку или ссылку для перехода к тесту со страницы урока.
- [ ] **Задача:** Написать unit-тесты для компонентов `TopicAccordion`, `LessonDetails` и `QuizView` для проверки корректного отображения данных и обработки ошибок.

### **Шаг 6: Расширение UI-кита и управление состоянием**
- [x] **Задача:** Добавить в `components/ui` продвинутые компоненты: `AlertDialog`, `Sheet`, `Toast`.
- [x] **Задача:** Добавить компонент `Skeleton` для отображения состояния загрузки.
- [ ] **Задача:** Внедрить `Zustand` для управления глобальным состоянием, если потребуется (например, для состояния корзины, темы оформления и т.д.).

### **Шаг 7: Улучшение UI/UX и внедрение анимаций**
- [x] **Задача:** Реализовать новый дизайн главной страницы с параллакс-эффектом и 3D-карточками курсов.
- [x] **Задача:** Внедрить анимированный таймлайн на страницу детального просмотра курса.
- [x] **Задача:** Улучшить UX страницы урока, добавив плавающую панель прогресса и интерактивные элементы.
- [x] **Задача:** Создать анимированный интерфейс для тестов с отслеживанием времени и прогресса.
- [x] **Задача:** Переработать Dashboard, добавив виджеты статистики (`LearningStatsCard`, `TimeSpentCard`), графики (`ProgressChart`) и рекомендации.

### **Шаг 8: Мобильная адаптация**
- [x] **Задача:** Реализовать адаптивную навигацию (`ResponsiveNavigation`) для мобильных устройств.
- [ ] **Задача:** Обеспечить полную адаптивность всех страниц и компонентов, используя `flex-col`, `grid-cols-1` и другие утилиты Tailwind CSS.

### **Шаг 9: Расширение UI-кита продвинутыми компонентами**
- [x] **Задача:** Добавить компонент анимированного счетчика (`AnimatedCounter`) для виджетов статистики.
- [ ] **Задача:** Создать компонент для поэтапной анимации списков (`StaggeredList`).
- [ ] **Задача:** Реализовать компонент многошаговой формы (`MultiStepForm`) для сложных пользовательских сценариев.
- [x] **Задача:** Разработать улучшенный компонент для загрузки файлов (`FileUpload`) с поддержкой drag-and-drop и обеспечить его отображение в профиле.

---

## . Следующие шаги
